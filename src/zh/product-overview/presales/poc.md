# 方案验证

本文档主要用于描述如何为HyperMotion & HyperBDR提供项目之前的方案验证 (PoC)。

## 方案验证范围概述

| 解决方案组件           | 在范围内                                                   |
|------------------------------|------------------------------------------------------------|
| 调研                | - 收集和评估关于详细的技术规范要求 |
|                              | - 信息收集和分析                         |
| 规划                     | - 提供方案验证计划                                     |
| 部署                   | - 准备云环境
|                              | - 安装并配置 HyperMotion & HyperBDR 服务器                  |
|                              | - 设置 HyperMotion & HyperBDR 代理/无代理        |
|                              | - 设置和配置迁移/容灾 (生产环境主机到云环境) |
| 功能测试           | - 数据同步
|                              | - 演练测试                                            |
|                              | - 接管测试                                            |
|                              | - (容灾可选) 回切测试           |

## 产品用户验收测试(UAT)

### 范围

| 验收内容          | 范围内                                                                 |
|-----------------------------|--------------------------------------------------------------------------|
| 配置               | - 安装和配置HyperMotion & HyperBDR                                         |
|                             | - 在云端进行对象存储或块存储设置                |
|                             | - 配置云作为迁移或容灾站点                               |
| 部署后             | 演练测试:                                                       |
|                             | - 测试数据同步过程 (策略, 增量)                   |
|                             | - 演练测试                              |
| 交付后             | - 转为生产环境                  |

### (容灾可选)回切测试范围

| 验收内容          | 范围内                                                                 |
|-----------------------------|--------------------------------------------------------------------------|
| 配置               | - 安装和配置HyperBDR                                         |
|                             | - 在云端进行对象存储或块存储设置                |
|                             | - 生产环境配置                                             |
| 部署后             | 回切测试:                                                                |
|                             | - 测试回切过程 (全量数据传输)                      |
|                             | - 测试回切恢复 (到生产环境站点)           |
| 交付后             | - 转为生产环境                  |

### 超出范围

| 方案内容         | 超出范围                                                              |
|----------------------------|---------------------------------------------------------------------------|
| 网络配置      | 配置现有备份网络和防火墙，如：            |
|                            |   • 配置云专线和访问测试 (VPN 和生产环境防火墙) |
|                            |   • 配置云迁移或容灾和演练网络       |
| 业务验证        | 验证业务系统自身可用性                   |
|                            | 验证回切业务系统自身可用性                          |

::: warning
由于云迁移或容灾对网络的依赖性，我们也将尽力协助用户完成网络配置。
:::

## 责任矩阵

### 网络

::: warning
此部分仅适用于需要使用专线进行数据传输的用户。如果用户使用的是公网解决方案，可以跳过此部分。
:::


| No  | 项目                                  | OnePro | Customer |
|-----|---------------------------------------|:--------:|:----------:|
| 1   | 云VPN设置(VPN服务或开源解决方案) | 协助      | ✓         |
| 2   | VPN凭证                             |  协助     | ✓         |
| 3   | 防火墙设置                     |        | ✓        |
| 4   | 连接测试                  |        | ✓        |


### 演练和接管

| No  | 项目                                  | OnePro | Customer |
|-----|---------------------------------------|:--------:|:----------:|
| 1   | 生产环境迁移或备份主机/虚拟机        |        | ✓        |
| 2   | 提供远程访问，方便问题排查                      |        | ✓        |
| 3   | 云平台设置                    | ✓      |          |
| 4   | 设置HyperMotion & HyperBDR (迁移/备份系统)        | ✓      |          |
| 5   | 主机注册在控制台    | ✓      |          |
| 6   | 数据同步和策略设置              | ✓      |          |
| 7   | 演练和接管                      | ✓      |          |
| 8   | 确认演练和接管后系统可以正常启动到登陆状态                           | ✓  |           |
| 9   | 业务系统验证                    |    |    ✓      |

### 回切

| No  | 项目                                  | OnePro | Customer |
|-----|---------------------------------------|:--------:|:----------:|
| 1   | 提供远程访问，方便问题排查                                    |       | ✓         |
| 2   | 为需要回切的主机安装回切Agent             |   ✓   |            |
| 3   | 控制台设置                              |   ✓   |           | 
| 4   | 确认回切主机已经正确注册在控制台          |   ✓   |           |
| 5   | 回切准备       |       |  ✓        |
| 6   | 回切全量数据同步                             |   ✓   |           |
| 7   | 回切演练和接管                        | ✓ |   |
| 8   | 回切后验证                             |   | ✓ |


## 方案验证成功标准

点击 [这里](https://docs.google.com/spreadsheets/d/1KVFaDCzFmL9xEK3hKbSYJms7NEu8GyV_CuyzdSxob4w/edit?usp=sharing) 访问完整的表格。请下载并打印表格，以便在完成PoC后确认结果。


### 方案验证成功标准检查表

| 序号  | 条件                                      | 通过 | 失败 | 备注
|-----|-----------------------------------------------|------|------|--------------------------------------------------|
|     | 成功条件 – 迁移/容灾    |      |      |                                                  |
| 1   | 可以将生产环境的主机迁移或备份至目标平台，例如：云平台      |      |      |                                                  |
| 2   | 能够正确进行迁移/容灾配置            |      |      |                                                  |
| 3   | 支持全量和增量同步            |      |      |                                                  |
| 4   | 在目标平台中验证的主机能够正常启动到可登陆状态            |      |      |                                                  |
| 5   | 演练和接管业务系统在目标平台中可以正常运行            |      |      |                                                  |
|     | (容灾可选) 回切成功标准 |      |      |                                                  |
| 1   | 可以正确完成回切平台配置            |      |      |                                                  |
| 2   | 可以正常全量同步            |      |      |                                                  |
| 3   | 可以正常将主机回切至生产平台，并可以正常启动到可登陆状态      |      |      |                                                  |
| 4   | 回切系业务系统正常使用 |      |      |                                                  |

| 方案验证签字              | 客户验证签字                |
|-------------------------|-------------------------|
| <br><br><br><br><br>    |                         |
| 例如：MSP公司执行人       | 例如：客户验证方负责人 |
